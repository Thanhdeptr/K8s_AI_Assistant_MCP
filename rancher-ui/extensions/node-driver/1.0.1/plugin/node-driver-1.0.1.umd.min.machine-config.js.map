{"version":3,"file":"node-driver-1.0.1.umd.min.machine-config.js","mappings":"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","sources":["webpack://node-driver-1.0.1/./openstack.ts","webpack://node-driver-1.0.1/./machine-config/openstack.vue","webpack://node-driver-1.0.1/./components/FileSelector.vue","webpack://node-driver-1.0.1/./components/FileSelector.vue?f8c2","webpack://node-driver-1.0.1/./machine-config/openstack.vue?116d","webpack://node-driver-1.0.1/./machine-config/openstack.vue?3fd9","webpack://node-driver-1.0.1/./machine-config/openstack.vue?6a62","webpack://node-driver-1.0.1/./.shell/assets/brand/ sync ^\\.\\/.*\\/metadata\\.json$"],"sourcesContent":["/**\n * Helper class for dealing with the Openstack API\n *\n * Openstack API Docs:\n *\n *  https://docs.openstack.org/api-ref/compute/index.html\n *\n */\nexport class Openstack {\n  public domainName: string = '';\n  public endpoint: string = '';\n  public projectDomainName: string = '';\n  public projectId: string = '';\n  public projectName: string = '';\n  public username: string = '';\n  public password: string = '';\n  public token: string = '';\n  public region: string = '';\n  private catalog: any;\n  private endpoints: any;\n  private userId: string = '';\n\n  private $dispatch: any;\n\n  public regionsFromCatalog: any[] = [];\n\n  constructor($store: any, obj: any) {\n    if (obj.annotations) {\n      Object.keys(obj.annotations).forEach((key) => {\n        const p = key.split('/');\n\n        if (p.length === 2 && p[0] === 'openstack.cattle.io') {\n          const field = p[1];\n\n          (this as any)[field] = obj.annotations[key];\n        }\n      });\n    } else {\n      // Copy from options to this\n      Object.keys(obj).forEach((key) => {\n        (this as any)[key] = obj[key];\n      });\n    }\n\n    this.$dispatch = $store.dispatch;\n  }\n\n  public async getToken() {\n    const endpoint = this.endpoint.replace(/^https?:\\/\\//, '');\n    const baseUrl = `/meta/proxy/${ endpoint }`;\n    const url = `${ baseUrl }/auth/tokens`;\n\n    const data = {\n      auth: {\n        identity: {\n          methods:  ['password'],\n          password: {\n            user: {\n              name:     this.username,\n              domain:   { name: this.domainName },\n              password: this.password\n            }\n          }\n        }\n      }\n    };\n\n    if (this.projectName) {\n      (data as any).auth.scope = {\n        project: {\n          name:   this.projectName,\n          domain: { name: this.projectDomainName }\n        }\n      };\n    }\n\n    const headers = { Accept: 'application/json' };\n\n    try {\n      const res = await this.$dispatch('management/request', {\n        url,\n        headers,\n        method:               'POST',\n        redirectUnauthorized: false,\n        data\n      }, { root: true });\n\n      if (res._status === 502) {\n        return { error: 'Could not proxy request - URL may not be in Rancher\\'s allow list' };\n      }\n\n      const token = res._headers['x-subject-token'];\n\n      this.token = token;\n\n      this.userId = res?.token?.user?.id;\n\n      this.regionsFromCatalog = [];\n\n      if ((data as any).auth.scope && res?.token) {\n        this.catalog = res.token.catalog;\n        this.endpoints = {};\n        this.catalog.forEach((service: any) => {\n          const iface = service.endpoints.find((svc: any) => svc.interface === 'public');\n\n          // Only use the interfaces for the region\n          if (iface && iface.region_id === this.region) {\n            this.endpoints[service.type] = iface.url;\n          }\n\n          if (iface && service.type === 'compute') {\n            if (!this.regionsFromCatalog.includes(iface.region_id)) {\n              this.regionsFromCatalog.push(iface.region_id);\n            }\n          }\n        });\n      }\n\n      this.regionsFromCatalog = this.regionsFromCatalog.map((id) => {\n        return { id }\n      });\n\n      return res;\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n\n      return { error: e };\n    }\n  }\n\n  public async getFlavors(value: any, initial?: string) {\n    return await this.getOptions(value, '/flavors', 'flavors', undefined, initial);\n  }\n\n  public async getImages(value: any, initial?: string) {\n    return await this.getOptions(value, '/images/detail', 'images', undefined, initial);\n  }\n\n  public async getKeyPairs(value: any, initial?: string) {\n    return await this.getOptions(value, '/os-keypairs', 'keypairs', (v: any) => v.keypair, initial);\n  }\n\n  public async getSecurityGroups(value: any, initial?: string) {\n    return await this.getOptions(value, '/os-security-groups', 'security_groups', undefined, initial);\n  }\n\n  public async getFloatingIpPools(value: any, initial?: string) {\n    return await this.getOptions(value, '/os-floating-ip-pools', 'floating_ip_pools', undefined, initial);\n  }\n\n  public async getNetworkNames(value: any, initial?: string) {\n    return await this.getOptions(value, '/os-tenant-networks', 'networks', (network: any) => {\n      return {\n        ...network,\n        name: network.label\n      };\n    }, initial);\n  }\n\n  public async getAvailabilityZones(value: any, initial?: string) {\n    return await this.getOptions(value, '/os-availability-zone', 'availabilityZoneInfo', (zone: any) => {\n      return {\n        ...zone,\n        name: zone.zoneName\n      };\n    }, initial);\n  }\n\n  public async getOptions(value: any, api: string, field: string, mapper?: Function, initial?: string) {\n    // We are fetching the data for the options\n    value.busy = true;\n    value.enabled = true;\n    value.selected = '';\n\n    const res = await this.makeComputeRequest(api);\n\n    if (res && (res as any)[field]) {\n      let list = (res as any)[field] || [];\n\n      if (mapper) {\n        list = list.map((k: any) => mapper(k));\n      }\n\n      value.options = this.convertToOptions(list);\n      value.busy = false;\n\n      if (initial) {\n        const found = value.options.find((option: any) => option.value.name === initial);\n\n        if (found) {\n          value.selected = found.value;\n        }\n      }\n\n      if (!value.selected && value.options.length > 0) {\n        value.selected = value.options[0].value;\n      }\n    } else {\n      value.options = [];\n      value.selected = null;\n      value.busy = false;\n      value.enabled = false;\n    }\n  }\n\n  public async makeComputeRequest(api: string) {\n    const endpoint = this.endpoints['compute'].replace(/^https?:\\/\\//, '');\n    const baseUrl = `/meta/proxy/${ endpoint }`;\n    const url = `${ baseUrl }${ api }`;\n\n    const headers = {\n      Accept:         'application/json',\n      'X-Auth-Token': this.token\n    };\n\n    try {\n      const res = await this.$dispatch('management/request', {\n        url,\n        headers,\n        method:               'GET',\n        redirectUnauthorized: false,\n      }, { root: true });\n\n      return res;\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n    }\n  }\n\n  public async getProjects() {\n    const endpoint = this.endpoint.replace(/^https?:\\/\\//, '');\n    const baseUrl = `/meta/proxy/${ endpoint }`;\n\n    const headers = {\n      Accept:         'application/json',\n      'X-Auth-Token': this.token\n    };\n\n    try {\n      const res = await this.$dispatch('management/request', {\n        url:                  `${ baseUrl }/users/${ this.userId }/projects`,\n        headers,\n        method:               'GET',\n        redirectUnauthorized: false,\n      }, { root: true });\n\n      return res?.projects;\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n\n      return { error: e };\n    }\n  }\n\n  public async getRegions() {\n    const endpoint = this.endpoint.replace(/^https?:\\/\\//, '');\n    const baseUrl = `/meta/proxy/${ endpoint }`;\n\n    const headers = {\n      Accept:         'application/json',\n      'X-Auth-Token': this.token\n    };\n\n    try {\n      const res = await this.$dispatch('management/request', {\n        url:                  `${ baseUrl }/regions`,\n        headers,\n        method:               'GET',\n        redirectUnauthorized: false,\n      }, { root: true });\n\n      return res?.regions;\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n\n      return { error: e };\n    }\n  }  \n\n  private convertToOptions(list: any) {\n    const sorted = (list || []).sort((a: any, b: any) => a.name.localeCompare(b.name));\n\n    return sorted.map((p: any) => {\n      return {\n        label: p.name,\n        value: p\n      };\n    });\n  }\n}\n","<script>\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { NORMAN, SECRET } from '@shell/config/types';\nimport { stringify } from '@shell/utils/error';\nimport { _VIEW } from '@shell/config/query-params';\nimport FileSelector from '../components/FileSelector';\nimport { Openstack } from '../openstack.ts';\n\nfunction initOptions() {\n  return {\n    options:  [],\n    selected: null,\n    busy:     false,\n    enabled:  false,\n  };\n}\n\nexport default {\n  components: {\n    Banner, FileSelector, Loading, LabeledInput, LabeledSelect\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    uuid: {\n      type:     String,\n      required: true,\n    },\n\n    cluster: {\n      type:    Object,\n      default: () => ({})\n    },\n\n    credentialId: {\n      type:     String,\n      required: true,\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false\n    },\n\n    busy: {\n      type:    Boolean,\n      default: false\n    },\n\n    provider: {\n      type:     String,\n      required: true,\n    }\n  },\n\n  async fetch() {\n    this.errors = [];\n    if ( !this.credentialId ) {\n      return;\n    }\n\n    if (this.mode === _VIEW) {\n      this.initForViewMode();\n\n      return;\n    }\n\n    try {\n      this.credential = await this.$store.dispatch('rancher/find', { type: NORMAN.CLOUD_CREDENTIAL, id: this.credentialId });\n    } catch (e) {\n      this.credential = null;\n    }\n\n    // Try and get the secret for the Cloud Credential as we need the plain-text password\n    try {\n      const id = this.credentialId.replace(':', '/');\n      const secret = await this.$store.dispatch('management/find', { type: SECRET, id });\n      const data = secret.data['openstackcredentialConfig-password'];\n      const password = atob(data);\n\n      this.password = password;\n      this.havePassword = true;\n      this.ready = true;\n    } catch (e) {\n      // this.credential = null;\n      this.password = '';\n      this.havePassword = false;\n      console.error(e); // eslint-disable-line no-console\n    }\n\n    this.$set(this, 'authenticating', true);\n\n    const os = new Openstack(this.$store, this.credential);\n\n    os.password = this.password;\n\n    this.os = os;\n\n    // Fetch a token - if this succeeds, kick off async fetching the lists we need\n    this.os.getToken().then((res) => {\n      if (res.error) {\n        this.$set(this, 'authenticating', false);\n        this.$emit('validationChanged', false);\n\n        this.errors.push('Unable to authenticate with the OpenStack server');\n\n        return;\n      }\n\n      this.$set(this, 'authenticating', false);\n\n      os.getFlavors(this.flavors, this.value?.flavorName);\n      os.getImages(this.images, this.value?.imageName);\n      os.getKeyPairs(this.keyPairs, this.value?.keypairName);\n      os.getSecurityGroups(this.securityGroups, this.value?.secGroups);\n      os.getFloatingIpPools(this.floatingIpPools, this.value?.floatingipPool);\n      os.getNetworkNames(this.networks, this.value?.netName);\n      os.getAvailabilityZones(this.availabilityZones, this.value?.availabilityZone);\n    });\n\n    this.$emit('validationChanged', false);\n  },\n\n  data() {\n    return {\n      authenticating:      false,\n      ready:               false,\n      os:                  null,\n      password:            null,\n      havePassword:        false,\n      flavors:             initOptions(),\n      images:              initOptions(),\n      keyPairs:            initOptions(),\n      securityGroups:      initOptions(),\n      floatingIpPools:     initOptions(),\n      networks:            initOptions(),\n      availabilityZones:   initOptions(),\n      sshUser:             this.value?.sshUser || 'root',\n      privateKeyFile:      this.value?.privateKeyFile || '',\n      filename:            this.value?.privateKeyFile ? 'Private Key Provided' : '',\n      privateKeyFieldType: 'password',\n      errors:              null,\n    };\n  },\n\n  watch: {\n    'credentialId'() {\n      this.$fetch();\n    },\n  },\n\n  methods: {\n    stringify,\n\n    initForViewMode() {\n      this.fakeSelectOptions(this.flavors, this.value?.flavorName);\n      this.fakeSelectOptions(this.images, this.value?.imageName);\n      this.fakeSelectOptions(this.keyPairs, this.value?.keypairName);\n      this.fakeSelectOptions(this.securityGroups, this.value?.secGroups);\n      this.fakeSelectOptions(this.floatingIpPools, this.value?.floatingipPool);\n      this.fakeSelectOptions(this.networks, this.value?.netName);\n      this.fakeSelectOptions(this.availabilityZones, this.value?.availabilityZone);\n    },\n\n    fakeSelectOptions(list, value) {\n      list.busy = false;\n      list.enabled = false;\n      list.options = [];\n\n      if (value) {\n        list.options.push({\n          label: value,\n          value,\n        });\n      }\n\n      list.selected = value;\n    },\n\n    onPrivateKeyFileSelected(v) {\n      this.filename = v.file.name;\n      this.privateKeyFile = v.data;\n\n      // On initial load, filename is shown as a password as we don't know what the filename was that was used - we just want to indicate there is a vlue\n      // When a file is chosen, change the type to text, so that the user can see the filename of the file that they chose\n      this.privateKeyFieldType = 'text';\n\n      this.$emit('validationChanged', true);\n    },\n\n    syncValue() {\n      // Note: We don't need to provide password as this is picked up via the credential\n\n      // Copy the values from the form to the correct places on the value\n      this.value.authUrl = this.os.endpoint;\n      this.value.domainName = this.os.domainName;\n      this.value.tenantDomainName = this.os.projectDomainName;\n      this.value.username = this.os.username;\n      this.value.userDomainName = this.os.domainName;\n      this.value.tenantId = this.os.projectId;\n      this.value.tenantName = this.os.projectName;\n      this.value.availabilityZone = this.availabilityZones.selected?.name;\n      this.value.flavorName = this.flavors.selected?.name;\n      this.value.imageName = this.images.selected?.name;\n      this.value.floatingipPool = this.floatingIpPools.selected?.name;\n      this.value.keypairName = this.keyPairs.selected?.name;\n      this.value.netName = this.networks.selected?.name;\n      this.value.secGroups = this.securityGroups.selected?.name;\n      this.value.sshUser = this.sshUser;\n      this.value.privateKeyFile = this.privateKeyFile;\n      this.value.region = this.os.region;\n\n      // Not configurable\n      this.value.endpointType = 'publicURL';\n      this.value.insecure = true;\n      this.value.bootFromVolume = false;\n      this.value.sshPort = '22';\n    },\n\n    test() {\n      this.syncValue();\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Loading\n      v-if=\"$fetchState.pending\"\n      :delayed=\"true\"\n    />\n    <div v-if=\"errors.length\">\n      <div\n        v-for=\"(err, idx) in errors\"\n        :key=\"idx\"\n      >\n        <Banner\n          color=\"error\"\n          :label=\"stringify(err)\"\n        />\n      </div>\n    </div>\n    <div>\n      <div class=\"openstack-config\">\n        <div class=\"title\">\n          Openstack Configuration\n        </div>\n        <div\n          v-if=\"authenticating\"\n          class=\"loading\"\n        >\n          <i class=\"icon-spinner icon-spin icon-lg\" />\n          <span>\n            Authenticating with the Openstack server ...\n          </span>\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"flavors.selected\"\n            label=\"Flavor\"\n            :options=\"flavors.options\"\n            :disabled=\"!flavors.enabled || busy\"\n            :loading=\"flavors.busy\"\n            :searchable=\"false\"\n          />\n        </div>\n\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"images.selected\"\n            label=\"Image\"\n            :options=\"images.options\"\n            :disabled=\"!images.enabled || busy\"\n            :loading=\"images.busy\"\n            :searchable=\"false\"\n          />\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"keyPairs.selected\"\n            label=\"Key Pair\"\n            :options=\"keyPairs.options\"\n            :disabled=\"!keyPairs.enabled || busy\"\n            :loading=\"keyPairs.busy\"\n            :searchable=\"false\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"filename\"\n            label=\"Private Key\"\n            :mode=\"mode\"\n            :type=\"privateKeyFieldType\"\n            :disabled=\"busy\"\n            :required=\"true\"\n          >\n            <template v-slot:suffix>\n              <div class=\"file-button\">\n                <FileSelector\n                  label=\"...\"\n                  :mode=\"mode\"\n                  :include-file=\"true\"\n                  :disabled=\"busy\"\n                  class=\"btn-sm\"\n                  @selected=\"onPrivateKeyFileSelected\"\n                />\n              </div>\n            </template>\n          </LabeledInput>\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"securityGroups.selected\"\n            label=\"Security Groups\"\n            :options=\"securityGroups.options\"\n            :disabled=\"!securityGroups.enabled || busy\"\n            :loading=\"securityGroups.busy\"\n            :searchable=\"false\"\n          />\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"availabilityZones.selected\"\n            label=\"Availability Zone\"\n            :options=\"availabilityZones.options\"\n            :disabled=\"!availabilityZones.enabled || busy\"\n            :loading=\"availabilityZones.busy\"\n            :searchable=\"false\"\n          />\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"floatingIpPools.selected\"\n            label=\"Floating IP Pools\"\n            :options=\"floatingIpPools.options\"\n            :disabled=\"!floatingIpPools.enabled || busy\"\n            :loading=\"floatingIpPools.busy\"\n            :searchable=\"false\"\n          />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledSelect\n            v-model=\"networks.selected\"\n            label=\"Networks\"\n            :options=\"networks.options\"\n            :disabled=\"!networks.enabled || busy\"\n            :loading=\"networks.busy\"\n            :searchable=\"false\"\n          />\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"sshUser\"\n            :mode=\"mode\"\n            :disabled=\"busy\"\n            :required=\"true\"\n            label=\"SSH User ID\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style scoped lang=\"scss\">\n  .file-button {\n    align-items: center;\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 100%;\n    display: flex;\n\n    > .file-selector {\n      height: calc($input-height - 2px);\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n    }\n  }\n\n  .openstack-config {\n    display: flex;\n    align-items: center;\n\n    > .title {\n      font-weight: bold;\n      padding: 4px 0;\n    }\n\n    > .loading {\n      margin-left: 20px;\n      display: flex;\n      align-items: center;\n\n      > i {\n        margin-right: 4px;;\n      }\n    }\n  }\n</style>\n","<script>\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\nimport { set } from '@shell/utils/object';\n\nexport function createOnSelected(field) {\n  return function(contents) {\n    set(this, field, contents);\n  };\n}\n\nexport default {\n  props: {\n    label: {\n      type:     String,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    disabled: {\n      type:    Boolean,\n      default: false,\n    },\n\n    includeFileName: {\n      type:    Boolean,\n      default: false,\n    },\n\n    showGrowlError: {\n      type:    Boolean,\n      default: true\n    },\n\n    multiple: {\n      type:    Boolean,\n      default: false\n    },\n\n    byteLimit: {\n      type:    Number,\n      default: 0\n    },\n\n    readAsDataUrl: {\n      type:    Boolean,\n      default: false\n    },\n\n    directory: {\n      type:    Boolean,\n      default: false\n    },\n\n    rawData: {\n      type:    Boolean,\n      default: false\n    },\n\n    includeFile: {\n      type:    Boolean,\n      default: false\n    },\n  },\n\n  computed: {\n    isView() {\n      return this.mode === _VIEW;\n    }\n  },\n\n  methods: {\n    selectFile() {\n      // Clear the value so the user can reselect the same file again\n      this.$refs.uploader.value = null;\n      this.$refs.uploader.click();\n    },\n\n    async fileChange(event) {\n      const input = event.target;\n      const files = Array.from(input.files || []);\n\n      if (this.byteLimit) {\n        for (const file of files) {\n          if (file.size > this.byteLimit) {\n            this.$emit('error', `${ file.name } exceeds the file size limit of ${ this.byteLimit } bytes`);\n\n            return;\n          }\n        }\n      }\n\n      if (this.rawData) {\n        const unboxedContents = !this.multiple && files.length === 1 ? files[0] : files;\n\n        this.$emit('selected', unboxedContents);\n\n        return;\n      }\n\n      try {\n        const asyncFileContents = files.map(this.getFileContents);\n        const fileContents = await Promise.all(asyncFileContents);\n        const unboxedContents = !this.multiple && fileContents.length === 1 ? fileContents[0] : fileContents;\n\n        if (this.includeFile) {\n          return this.$emit('selected', {\n            file: !this.multiple && fileContents.length === 1 ? files[0] : files,\n            data: unboxedContents\n          });\n        }\n\n        this.$emit('selected', unboxedContents);\n      } catch (error) {\n        this.$emit('error', error);\n        if (this.showGrowlError) {\n          this.$store.dispatch('growl/fromError', { title: 'Error reading file', error }, { root: true });\n        }\n      }\n    },\n\n    getFileContents(file) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        reader.onload = (ev) => {\n          const value = ev.target.result;\n          const name = file.name;\n          const fileContents = this.includeFileName ? { value, name } : value;\n\n          resolve(fileContents);\n        };\n\n        reader.onerror = (err) => {\n          reject(err);\n        };\n        if (this.readAsDataUrl) {\n          reader.readAsDataURL(file);\n        } else {\n          reader.readAsText(file);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <button\n    v-if=\"!isView\"\n    :disabled=\"disabled\"\n    type=\"button\"\n    class=\"file-selector btn\"\n    @click=\"selectFile\"\n  >\n    <span>{{ label }}</span>\n    <input\n      ref=\"uploader\"\n      type=\"file\"\n      class=\"hide\"\n      :multiple=\"multiple\"\n      :webkitdirectory=\"directory\"\n      @change=\"fileChange\"\n    >\n  </button>\n</template>\n","import { render } from \"./FileSelector.vue?vue&type=template&id=dbe4b004\"\nimport script from \"./FileSelector.vue?vue&type=script&lang=js\"\nexport * from \"./FileSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./openstack.vue?vue&type=template&id=21bd070e&scoped=true\"\nimport script from \"./openstack.vue?vue&type=script&lang=js\"\nexport * from \"./openstack.vue?vue&type=script&lang=js\"\n\nimport \"./openstack.vue?vue&type=style&index=0&id=21bd070e&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21bd070e\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".file-button[data-v-21bd070e]{align-items:center;position:absolute;top:0;right:0;height:100%;display:flex}.file-button>.file-selector[data-v-21bd070e]{height:59px;border-top-left-radius:0;border-bottom-left-radius:0}.openstack-config[data-v-21bd070e]{display:flex;align-items:center}.openstack-config>.title[data-v-21bd070e]{font-weight:700;padding:4px 0}.openstack-config>.loading[data-v-21bd070e]{margin-left:20px;display:flex;align-items:center}.openstack-config>.loading>i[data-v-21bd070e]{margin-right:4px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./openstack.vue?vue&type=style&index=0&id=21bd070e&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"23554420\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var map = {\n\t\"./csp/metadata.json\": 6471,\n\t\"./federal/metadata.json\": 1862,\n\t\"./harvester/metadata.json\": 1507,\n\t\"./rgs/metadata.json\": 8401,\n\t\"./suse/metadata.json\": 7259\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1177;"],"names":["Openstack","constructor","$store","obj","_defineProperty","annotations","Object","keys","forEach","key","p","split","length","field","this","$dispatch","dispatch","getToken","endpoint","replace","baseUrl","url","data","auth","identity","methods","password","user","name","username","domain","domainName","projectName","scope","project","projectDomainName","headers","Accept","res","method","redirectUnauthorized","root","_status","error","token","_headers","userId","id","regionsFromCatalog","catalog","endpoints","service","iface","find","svc","interface","region_id","region","type","includes","push","map","e","console","getFlavors","value","initial","getOptions","undefined","getImages","getKeyPairs","v","keypair","getSecurityGroups","getFloatingIpPools","getNetworkNames","network","label","getAvailabilityZones","zone","zoneName","api","mapper","busy","enabled","selected","makeComputeRequest","list","k","options","convertToOptions","found","option","getProjects","projects","getRegions","regions","sorted","sort","a","b","localeCompare","class","_createElementVNode","_hoisted_5","_hoisted_6","_createElementBlock","_ctx","$fetchState","pending","_createBlock","_component_Loading","delayed","$data","errors","_hoisted_1","_Fragment","_renderList","err","idx","_createVNode","_component_Banner","color","$options","stringify","_hoisted_2","_hoisted_3","authenticating","_hoisted_4","_hoisted_7","_hoisted_8","_hoisted_9","_component_LabeledSelect","flavors","$event","disabled","$props","loading","searchable","_hoisted_10","images","_hoisted_11","_hoisted_12","keyPairs","_hoisted_13","_component_LabeledInput","filename","mode","privateKeyFieldType","required","suffix","_withCtx","_hoisted_14","_component_FileSelector","onSelected","onPrivateKeyFileSelected","_hoisted_15","_hoisted_16","securityGroups","_hoisted_17","_hoisted_18","availabilityZones","_hoisted_19","_hoisted_20","floatingIpPools","_hoisted_21","networks","_hoisted_22","_hoisted_23","sshUser","isView","onClick","_cache","args","selectFile","_toDisplayString","ref","multiple","webkitdirectory","directory","onChange","fileChange","props","String","default","_EDIT","Boolean","includeFileName","showGrowlError","byteLimit","Number","readAsDataUrl","rawData","includeFile","computed","_VIEW","$refs","uploader","click","event","input","target","files","Array","from","file","size","$emit","unboxedContents","asyncFileContents","getFileContents","fileContents","Promise","all","title","resolve","reject","reader","FileReader","onload","ev","result","onerror","readAsDataURL","readAsText","__exports__","initOptions","components","Banner","FileSelector","Loading","LabeledInput","LabeledSelect","mixins","CreateEditView","uuid","cluster","credentialId","provider","fetch","initForViewMode","credential","NORMAN","CLOUD_CREDENTIAL","secret","SECRET","atob","havePassword","ready","$set","os","then","flavorName","imageName","keypairName","secGroups","floatingipPool","netName","availabilityZone","privateKeyFile","watch","$fetch","fakeSelectOptions","syncValue","authUrl","tenantDomainName","userDomainName","tenantId","projectId","tenantName","endpointType","insecure","bootFromVolume","sshPort","test","render","___CSS_LOADER_EXPORT___","module","content","__esModule","locals","exports","add","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code"],"sourceRoot":""}